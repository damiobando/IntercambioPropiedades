{"ast":null,"code":"import React,{useState,useEffect}from'react';import Box from'@mui/material/Box';import TextField from'@mui/material/TextField';import'./RegisterForm.css';import FormGroup from'@mui/material/FormGroup';import FormControlLabel from'@mui/material/FormControlLabel';import Checkbox from'@mui/material/Checkbox';import{Button}from'./Button';import{Link}from'react-router-dom';import{registerRequest}from'../api/auth';import Alert from'./Alert';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";function RegisterForm(){const[firstName,setFirstName]=useState('');const[email,setEmail]=useState('');const[contrasenna,setPassword]=useState('');const[telefono,setTelefono]=useState('');const[alert,setAlert]=useState(null);const label={inputProps:{'aria-label':'Checkbox demo'}};const[showPassword,setShowPassword]=useState(false);const handleClickShowPassword=()=>setShowPassword(show=>!show);const handleMouseDownPassword=event=>{event.preventDefault();};const[click,setClick]=useState(false);const[button,setButton]=useState(true);const handleClick=()=>setClick(!click);const closeMobileMenu=()=>setClick(false);const showButton=()=>{if(window.innerWidth<=960){setButton(false);}else{setButton(true);}};useEffect(()=>{showButton();},[]);const showAlert=message=>{setAlert(message);setTimeout(()=>{setAlert(null);},3000);};window.addEventListener('resize',showButton);const handleButtonClick=async()=>{try{const requestData={name:firstName,phone:telefono,email:email,password:contrasenna};const res=await registerRequest(requestData);if(res.status===200){// Registro exitoso\nconst token=res.data.token;document.cookie=\"token=\".concat(token);console.log('Successful registration');showAlert('Registro Exitoso');}else{// Error en el registro\nconsole.error('Error on registration',res.data.message);showAlert(\"Error en el registro: \".concat(res.data.message));}}catch(error){console.error('Error en el registro:',error);showAlert('Error en el registro, revisa los datos y vuelve a intentarlo');}};return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(\"div\",{className:\"signUp_container\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"register_container \",children:/*#__PURE__*/_jsxs(Box,{component:\"form\",sx:{'& .MuiTextField-root':{m:2,width:'45ch'},display:'flex',flexDirection:'column',alignItems:'left',alignContent:'left',marginLeft:'-200px'},noValidate:true,autoComplete:\"off\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Sign In to your Account\"}),/*#__PURE__*/_jsx(TextField,{required:true,id:\"firstName\",label:\"Nombre\",value:firstName,onChange:e=>setFirstName(e.target.value)}),/*#__PURE__*/_jsx(TextField,{required:true,id:\"telefono\",label:\"Telefono\",value:telefono,onChange:e=>setTelefono(e.target.value)}),/*#__PURE__*/_jsx(TextField,{required:true,id:\"email\",label:\"Correo Electr\\xF3nico\",value:email,onChange:e=>setEmail(e.target.value)}),/*#__PURE__*/_jsx(TextField,{required:true,id:\"contrasenna\",label:\"Contrase\\xF1a\",type:\"contrasenna\",value:contrasenna,onChange:e=>setPassword(e.target.value)})]})}),alert&&/*#__PURE__*/_jsx(Alert,{message:alert,onClose:()=>setAlert(null)}),/*#__PURE__*/_jsxs(\"div\",{className:\"logoBtn\",children:[/*#__PURE__*/_jsx(\"img\",{src:\"./images/LogoIntercambio.png\",style:{width:'400px',height:'auto',alignContent:'center',marginLeft:'100px'}}),/*#__PURE__*/_jsx(FormGroup,{children:/*#__PURE__*/_jsx(FormControlLabel,{required:true,control:/*#__PURE__*/_jsx(Checkbox,{}),label:\"Acepta los T\\xE9rminos y Condiciones\"})}),/*#__PURE__*/_jsx(Button,{buttonStyle:\"btn--outline\",onClick:handleButtonClick,children:\"Crear cuenta\"})]})]})});}export default RegisterForm;","map":{"version":3,"names":["React","useState","useEffect","Box","TextField","FormGroup","FormControlLabel","Checkbox","Button","Link","registerRequest","Alert","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","RegisterForm","firstName","setFirstName","email","setEmail","contrasenna","setPassword","telefono","setTelefono","alert","setAlert","label","inputProps","showPassword","setShowPassword","handleClickShowPassword","show","handleMouseDownPassword","event","preventDefault","click","setClick","button","setButton","handleClick","closeMobileMenu","showButton","window","innerWidth","showAlert","message","setTimeout","addEventListener","handleButtonClick","requestData","name","phone","password","res","status","token","data","document","cookie","concat","console","log","error","children","className","component","sx","m","width","display","flexDirection","alignItems","alignContent","marginLeft","noValidate","autoComplete","required","id","value","onChange","e","target","type","onClose","src","style","height","control","buttonStyle","onClick"],"sources":["C:/Users/PC/Documents/GitHub/IntercambioPropiedades/front-end/src/components/RegisterForm.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport Box from '@mui/material/Box';\r\nimport TextField from '@mui/material/TextField';\r\nimport './RegisterForm.css';\r\nimport FormGroup from '@mui/material/FormGroup';\r\nimport FormControlLabel from '@mui/material/FormControlLabel';\r\nimport Checkbox from '@mui/material/Checkbox';\r\nimport { Button } from './Button';\r\nimport { Link } from 'react-router-dom';\r\nimport { registerRequest } from '../api/auth';\r\nimport Alert from './Alert'; \r\n\r\nfunction RegisterForm() {\r\n  const [firstName, setFirstName] = useState('');\r\n  const [email, setEmail] = useState('');\r\n  const [contrasenna, setPassword] = useState('');\r\n  const [telefono, setTelefono] = useState('');\r\n  const [alert, setAlert] = useState(null);\r\n\r\n  const label = { inputProps: { 'aria-label': 'Checkbox demo' } };\r\n\r\n  const [showPassword, setShowPassword] = useState(false);\r\n\r\n  const handleClickShowPassword = () => setShowPassword((show) => !show);\r\n\r\n  const handleMouseDownPassword = (event) => {\r\n    event.preventDefault();\r\n  };\r\n\r\n  const [click, setClick] = useState(false);\r\n  const [button, setButton] = useState(true);\r\n\r\n  const handleClick = () => setClick(!click);\r\n  const closeMobileMenu = () => setClick(false);\r\n\r\n  const showButton = () => {\r\n    if (window.innerWidth <= 960) {\r\n      setButton(false);\r\n    } else {\r\n      setButton(true);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    showButton();\r\n  }, []);\r\n\r\n  const showAlert = (message) => {\r\n    setAlert(message);\r\n    setTimeout(() => {\r\n      setAlert(null);\r\n    }, 3000);\r\n  };\r\n  window.addEventListener('resize', showButton);\r\n  const handleButtonClick = async () => {\r\n    try {\r\n      const requestData = {\r\n        name: firstName,\r\n        phone: telefono,\r\n        email: email,\r\n        password: contrasenna\r\n      };\r\n\r\n      const res = await registerRequest(requestData)\r\n      if (res.status === 200) {\r\n        // Registro exitoso\r\n        const token = res.data.token;\r\n        document.cookie = `token=${token}`;\r\n        console.log('Successful registration');\r\n        showAlert('Registro Exitoso');\r\n      } else {\r\n        // Error en el registro\r\n        console.error('Error on registration', res.data.message);\r\n        showAlert(`Error en el registro: ${res.data.message}`);\r\n      }\r\n    } catch (error) {\r\n      console.error('Error en el registro:', error);\r\n      showAlert('Error en el registro, revisa los datos y vuelve a intentarlo');\r\n    }\r\n  };\r\n  return (\r\n    <>\r\n      <div className='signUp_container'>\r\n        <div className='register_container '>\r\n          <Box\r\n            component='form'\r\n            sx={{\r\n              '& .MuiTextField-root': { m: 2, width: '45ch' },\r\n              display: 'flex',\r\n              flexDirection: 'column',\r\n              alignItems: 'left',\r\n              alignContent: 'left',\r\n              marginLeft: '-200px',\r\n            }}\r\n            noValidate\r\n            autoComplete='off'\r\n          >\r\n            <h1>Sign In to your Account</h1>\r\n            <TextField\r\n              required\r\n              id='firstName'\r\n              label='Nombre'\r\n              value={firstName}\r\n              onChange={(e) => setFirstName(e.target.value)}\r\n            />\r\n            <TextField\r\n              required\r\n              id='telefono'\r\n              label='Telefono'\r\n              value={telefono}\r\n              onChange={(e) => setTelefono(e.target.value)}\r\n            />\r\n            <TextField\r\n              required\r\n              id='email'\r\n              label='Correo Electrónico'\r\n              value={email}\r\n              onChange={(e) => setEmail(e.target.value)}\r\n            />\r\n            <TextField\r\n              required\r\n              id='contrasenna'\r\n              label='Contraseña'\r\n              type='contrasenna'\r\n              value={contrasenna}\r\n              onChange={(e) => setPassword(e.target.value)}\r\n            />\r\n          </Box>\r\n        </div>\r\n        {alert && <Alert message={alert} onClose={() => setAlert(null)} />}\r\n        <div className='logoBtn'>\r\n          <img\r\n            src='./images/LogoIntercambio.png'\r\n            style={{ width: '400px', height: 'auto', alignContent: 'center', marginLeft: '100px' }}\r\n          />\r\n          <FormGroup>\r\n            <FormControlLabel required control={<Checkbox />} label='Acepta los Términos y Condiciones' />\r\n          </FormGroup>\r\n          <Button buttonStyle='btn--outline' onClick={handleButtonClick}>\r\n            Crear cuenta\r\n          </Button>\r\n        </div>\r\n        \r\n      </div>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default RegisterForm;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}