{"ast":null,"code":"var jws = require('jws');\nvar ms = require('ms');\nvar timespan = require('./lib/timespan');\nvar xtend = require('xtend');\nvar JWT = module.exports;\nvar JsonWebTokenError = JWT.JsonWebTokenError = require('./lib/JsonWebTokenError');\nvar NotBeforeError = module.exports.NotBeforeError = require('./lib/NotBeforeError');\nvar TokenExpiredError = JWT.TokenExpiredError = require('./lib/TokenExpiredError');\nJWT.decode = function (jwt, options) {\n  options = options || {};\n  var decoded = jws.decode(jwt, options);\n  if (!decoded) {\n    return null;\n  }\n  var payload = decoded.payload;\n\n  //try parse the payload\n  if (typeof payload === 'string') {\n    try {\n      var obj = JSON.parse(payload);\n      if (typeof obj === 'object') {\n        payload = obj;\n      }\n    } catch (e) {}\n  }\n\n  //return header if `complete` option is enabled.  header includes claims\n  //such as `kid` and `alg` used to select the key within a JWKS needed to\n  //verify the signature\n  if (options.complete === true) {\n    return {\n      header: decoded.header,\n      payload: payload,\n      signature: decoded.signature\n    };\n  }\n  return payload;\n};\nvar payload_options = ['expiresIn', 'notBefore', 'expiresInMinutes', 'expiresInSeconds', 'audience', 'issuer', 'subject', 'jwtid'];\nJWT.sign = function (payload, secretOrPrivateKey, options, callback) {\n  options = options || {};\n  var header = {};\n  if (typeof payload === 'object') {\n    header.typ = 'JWT';\n    payload = xtend(payload);\n  } else {\n    var invalid_option = payload_options.filter(function (key) {\n      return typeof options[key] !== 'undefined';\n    })[0];\n    if (invalid_option) {\n      console.warn('invalid \"' + invalid_option + '\" option for ' + typeof payload + ' payload');\n    }\n  }\n  header.alg = options.algorithm || 'HS256';\n  if (options.headers) {\n    Object.keys(options.headers).forEach(function (k) {\n      header[k] = options.headers[k];\n    });\n  }\n  var timestamp = Math.floor(Date.now() / 1000);\n  if (!options.noTimestamp) {\n    payload.iat = payload.iat || timestamp;\n  }\n  if (typeof options.notBefore !== 'undefined') {\n    payload.nbf = timespan(options.notBefore);\n    if (typeof payload.nbf === 'undefined') {\n      throw new Error('\"notBefore\" should be a number of seconds or string representing a timespan eg: \"1d\", \"20h\", 60');\n    }\n  }\n  if (options.expiresInSeconds || options.expiresInMinutes) {\n    var deprecated_line;\n    try {\n      deprecated_line = /.*\\((.*)\\).*/.exec(new Error().stack.split('\\n')[2])[1];\n    } catch (err) {\n      deprecated_line = '';\n    }\n    console.warn('jsonwebtoken: expiresInMinutes and expiresInSeconds is deprecated. (' + deprecated_line + ')\\n' + 'Use \"expiresIn\" expressed in seconds.');\n    var expiresInSeconds = options.expiresInMinutes ? options.expiresInMinutes * 60 : options.expiresInSeconds;\n    payload.exp = timestamp + expiresInSeconds;\n  } else if (typeof options.expiresIn !== 'undefined' && typeof payload === 'object') {\n    payload.exp = timespan(options.expiresIn);\n    if (typeof payload.exp === 'undefined') {\n      throw new Error('\"expiresIn\" should be a number of seconds or string representing a timespan eg: \"1d\", \"20h\", 60');\n    }\n  }\n  if (options.audience) payload.aud = options.audience;\n  if (options.issuer) payload.iss = options.issuer;\n  if (options.subject) payload.sub = options.subject;\n  if (options.jwtid) payload.jti = options.jwtid;\n  var encoding = 'utf8';\n  if (options.encoding) {\n    encoding = options.encoding;\n  }\n  if (typeof callback === 'function') {\n    jws.createSign({\n      header: header,\n      privateKey: secretOrPrivateKey,\n      payload: JSON.stringify(payload)\n    }).on('done', callback);\n  } else {\n    return jws.sign({\n      header: header,\n      payload: payload,\n      secret: secretOrPrivateKey,\n      encoding: encoding\n    });\n  }\n};\nJWT.verify = function (jwtString, secretOrPublicKey, options, callback) {\n  if (typeof options === 'function' && !callback) {\n    callback = options;\n    options = {};\n  }\n  if (!options) options = {};\n  var done;\n  if (callback) {\n    done = function () {\n      var args = Array.prototype.slice.call(arguments, 0);\n      return process.nextTick(function () {\n        callback.apply(null, args);\n      });\n    };\n  } else {\n    done = function (err, data) {\n      if (err) throw err;\n      return data;\n    };\n  }\n  if (!jwtString) {\n    return done(new JsonWebTokenError('jwt must be provided'));\n  }\n  var parts = jwtString.split('.');\n  if (parts.length !== 3) {\n    return done(new JsonWebTokenError('jwt malformed'));\n  }\n  if (parts[2].trim() === '' && secretOrPublicKey) {\n    return done(new JsonWebTokenError('jwt signature is required'));\n  }\n  if (!secretOrPublicKey) {\n    return done(new JsonWebTokenError('secret or public key must be provided'));\n  }\n  if (!options.algorithms) {\n    options.algorithms = ~secretOrPublicKey.toString().indexOf('BEGIN CERTIFICATE') || ~secretOrPublicKey.toString().indexOf('BEGIN PUBLIC KEY') ? ['RS256', 'RS384', 'RS512', 'ES256', 'ES384', 'ES512'] : ~secretOrPublicKey.toString().indexOf('BEGIN RSA PUBLIC KEY') ? ['RS256', 'RS384', 'RS512'] : ['HS256', 'HS384', 'HS512'];\n  }\n  var decodedToken;\n  try {\n    decodedToken = jws.decode(jwtString);\n  } catch (err) {\n    return done(new JsonWebTokenError('invalid token'));\n  }\n  if (!decodedToken) {\n    return done(new JsonWebTokenError('invalid token'));\n  }\n  var header = decodedToken.header;\n  if (!~options.algorithms.indexOf(header.alg)) {\n    return done(new JsonWebTokenError('invalid algorithm'));\n  }\n  var valid;\n  try {\n    valid = jws.verify(jwtString, header.alg, secretOrPublicKey);\n  } catch (e) {\n    return done(e);\n  }\n  if (!valid) return done(new JsonWebTokenError('invalid signature'));\n  var payload;\n  try {\n    payload = JWT.decode(jwtString);\n  } catch (err) {\n    return done(err);\n  }\n  if (typeof payload.nbf !== 'undefined' && !options.ignoreNotBefore) {\n    if (typeof payload.nbf !== 'number') {\n      return done(new JsonWebTokenError('invalid nbf value'));\n    }\n    if (payload.nbf > Math.floor(Date.now() / 1000)) {\n      return done(new NotBeforeError('jwt not active', new Date(payload.nbf * 1000)));\n    }\n  }\n  if (typeof payload.exp !== 'undefined' && !options.ignoreExpiration) {\n    if (typeof payload.exp !== 'number') {\n      return done(new JsonWebTokenError('invalid exp value'));\n    }\n    if (Math.floor(Date.now() / 1000) >= payload.exp) return done(new TokenExpiredError('jwt expired', new Date(payload.exp * 1000)));\n  }\n  if (options.audience) {\n    var audiences = Array.isArray(options.audience) ? options.audience : [options.audience];\n    var target = Array.isArray(payload.aud) ? payload.aud : [payload.aud];\n    var match = target.some(function (aud) {\n      return audiences.indexOf(aud) != -1;\n    });\n    if (!match) return done(new JsonWebTokenError('jwt audience invalid. expected: ' + audiences.join(' or ')));\n  }\n  if (options.issuer) {\n    var invalid_issuer = typeof options.issuer === 'string' && payload.iss !== options.issuer || Array.isArray(options.issuer) && options.issuer.indexOf(payload.iss) === -1;\n    if (invalid_issuer) {\n      return done(new JsonWebTokenError('jwt issuer invalid. expected: ' + options.issuer));\n    }\n  }\n  if (options.subject) {\n    if (payload.sub !== options.subject) {\n      return done(new JsonWebTokenError('jwt subject invalid. expected: ' + options.subject));\n    }\n  }\n  if (options.jwtid) {\n    if (payload.jti !== options.jwtid) {\n      return done(new JsonWebTokenError('jwt jwtid invalid. expected: ' + options.jwtid));\n    }\n  }\n  if (options.maxAge) {\n    var maxAge = ms(options.maxAge);\n    if (typeof payload.iat !== 'number') {\n      return done(new JsonWebTokenError('iat required when maxAge is specified'));\n    }\n    if (Date.now() - payload.iat * 1000 > maxAge) {\n      return done(new TokenExpiredError('maxAge exceeded', new Date(payload.iat * 1000 + maxAge)));\n    }\n  }\n  return done(null, payload);\n};","map":{"version":3,"names":["jws","require","ms","timespan","xtend","JWT","module","exports","JsonWebTokenError","NotBeforeError","TokenExpiredError","decode","jwt","options","decoded","payload","obj","JSON","parse","e","complete","header","signature","payload_options","sign","secretOrPrivateKey","callback","typ","invalid_option","filter","key","console","warn","alg","algorithm","headers","Object","keys","forEach","k","timestamp","Math","floor","Date","now","noTimestamp","iat","notBefore","nbf","Error","expiresInSeconds","expiresInMinutes","deprecated_line","exec","stack","split","err","exp","expiresIn","audience","aud","issuer","iss","subject","sub","jwtid","jti","encoding","createSign","privateKey","stringify","on","secret","verify","jwtString","secretOrPublicKey","done","args","Array","prototype","slice","call","arguments","process","nextTick","apply","data","parts","length","trim","algorithms","toString","indexOf","decodedToken","valid","ignoreNotBefore","ignoreExpiration","audiences","isArray","target","match","some","join","invalid_issuer","maxAge"],"sources":["C:/Users/PC/Documents/GitHub/IntercambioPropiedades/front-end/node_modules/jsonwebtoken-promisified/node_modules/jsonwebtoken/index.js"],"sourcesContent":["var jws = require('jws');\nvar ms = require('ms');\nvar timespan = require('./lib/timespan');\nvar xtend = require('xtend');\n\nvar JWT = module.exports;\n\nvar JsonWebTokenError = JWT.JsonWebTokenError = require('./lib/JsonWebTokenError');\nvar NotBeforeError = module.exports.NotBeforeError = require('./lib/NotBeforeError');\nvar TokenExpiredError = JWT.TokenExpiredError = require('./lib/TokenExpiredError');\n\nJWT.decode = function (jwt, options) {\n  options = options || {};\n  var decoded = jws.decode(jwt, options);\n  if (!decoded) { return null; }\n  var payload = decoded.payload;\n\n  //try parse the payload\n  if(typeof payload === 'string') {\n    try {\n      var obj = JSON.parse(payload);\n      if(typeof obj === 'object') {\n        payload = obj;\n      }\n    } catch (e) { }\n  }\n\n  //return header if `complete` option is enabled.  header includes claims\n  //such as `kid` and `alg` used to select the key within a JWKS needed to\n  //verify the signature\n  if (options.complete === true) {\n    return {\n      header: decoded.header,\n      payload: payload,\n      signature: decoded.signature\n    };\n  }\n  return payload;\n};\n\nvar payload_options = [\n  'expiresIn',\n  'notBefore',\n  'expiresInMinutes',\n  'expiresInSeconds',\n  'audience',\n  'issuer',\n  'subject',\n  'jwtid'\n];\n\nJWT.sign = function(payload, secretOrPrivateKey, options, callback) {\n  options = options || {};\n  var header = {};\n\n  if (typeof payload === 'object') {\n    header.typ = 'JWT';\n    payload = xtend(payload);\n  } else {\n    var invalid_option = payload_options.filter(function (key) {\n      return typeof options[key] !== 'undefined';\n    })[0];\n\n    if (invalid_option) {\n      console.warn('invalid \"' + invalid_option + '\" option for ' + (typeof payload) + ' payload');\n    }\n  }\n\n\n  header.alg = options.algorithm || 'HS256';\n\n  if (options.headers) {\n    Object.keys(options.headers).forEach(function (k) {\n      header[k] = options.headers[k];\n    });\n  }\n\n  var timestamp = Math.floor(Date.now() / 1000);\n  if (!options.noTimestamp) {\n    payload.iat = payload.iat || timestamp;\n  }\n\n  if (typeof options.notBefore !== 'undefined') {\n    payload.nbf = timespan(options.notBefore);\n    if (typeof payload.nbf === 'undefined') {\n      throw new Error('\"notBefore\" should be a number of seconds or string representing a timespan eg: \"1d\", \"20h\", 60');\n    }\n  }\n\n  if (options.expiresInSeconds || options.expiresInMinutes) {\n    var deprecated_line;\n    try {\n      deprecated_line = /.*\\((.*)\\).*/.exec((new Error()).stack.split('\\n')[2])[1];\n    } catch(err) {\n      deprecated_line = '';\n    }\n\n    console.warn('jsonwebtoken: expiresInMinutes and expiresInSeconds is deprecated. (' + deprecated_line + ')\\n' +\n                 'Use \"expiresIn\" expressed in seconds.');\n\n    var expiresInSeconds = options.expiresInMinutes ?\n        options.expiresInMinutes * 60 :\n        options.expiresInSeconds;\n\n    payload.exp = timestamp + expiresInSeconds;\n  } else if (typeof options.expiresIn !== 'undefined' && typeof payload === 'object') {\n    payload.exp = timespan(options.expiresIn);\n    if (typeof payload.exp === 'undefined') {\n      throw new Error('\"expiresIn\" should be a number of seconds or string representing a timespan eg: \"1d\", \"20h\", 60');\n    }\n  }\n\n  if (options.audience)\n    payload.aud = options.audience;\n\n  if (options.issuer)\n    payload.iss = options.issuer;\n\n  if (options.subject)\n    payload.sub = options.subject;\n\n  if (options.jwtid)\n    payload.jti = options.jwtid;\n\n  var encoding = 'utf8';\n  if (options.encoding) {\n    encoding = options.encoding;\n  }\n\n  if(typeof callback === 'function') {\n    jws.createSign({\n      header: header,\n      privateKey: secretOrPrivateKey,\n      payload: JSON.stringify(payload)\n    }).on('done', callback);\n  } else {\n    return jws.sign({header: header, payload: payload, secret: secretOrPrivateKey, encoding: encoding});\n  }\n};\n\nJWT.verify = function(jwtString, secretOrPublicKey, options, callback) {\n  if ((typeof options === 'function') && !callback) {\n    callback = options;\n    options = {};\n  }\n\n  if (!options) options = {};\n\n  var done;\n\n  if (callback) {\n    done = function() {\n      var args = Array.prototype.slice.call(arguments, 0);\n      return process.nextTick(function() {\n        callback.apply(null, args);\n      });\n    };\n  } else {\n    done = function(err, data) {\n      if (err) throw err;\n      return data;\n    };\n  }\n\n  if (!jwtString){\n    return done(new JsonWebTokenError('jwt must be provided'));\n  }\n\n  var parts = jwtString.split('.');\n\n  if (parts.length !== 3){\n    return done(new JsonWebTokenError('jwt malformed'));\n  }\n\n  if (parts[2].trim() === '' && secretOrPublicKey){\n    return done(new JsonWebTokenError('jwt signature is required'));\n  }\n\n  if (!secretOrPublicKey) {\n    return done(new JsonWebTokenError('secret or public key must be provided'));\n  }\n\n  if (!options.algorithms) {\n    options.algorithms = ~secretOrPublicKey.toString().indexOf('BEGIN CERTIFICATE') ||\n                         ~secretOrPublicKey.toString().indexOf('BEGIN PUBLIC KEY') ?\n                          [ 'RS256','RS384','RS512','ES256','ES384','ES512' ] :\n                         ~secretOrPublicKey.toString().indexOf('BEGIN RSA PUBLIC KEY') ?\n                          [ 'RS256','RS384','RS512' ] :\n                          [ 'HS256','HS384','HS512' ];\n\n  }\n\n  var decodedToken;\n  try {\n    decodedToken = jws.decode(jwtString);\n  } catch(err) {\n    return done(new JsonWebTokenError('invalid token'));\n  }\n\n  if (!decodedToken) {\n    return done(new JsonWebTokenError('invalid token'));\n  }\n\n  var header = decodedToken.header;\n\n  if (!~options.algorithms.indexOf(header.alg)) {\n    return done(new JsonWebTokenError('invalid algorithm'));\n  }\n\n  var valid;\n\n  try {\n    valid = jws.verify(jwtString, header.alg, secretOrPublicKey);\n  } catch (e) {\n    return done(e);\n  }\n\n  if (!valid)\n    return done(new JsonWebTokenError('invalid signature'));\n\n  var payload;\n\n  try {\n    payload = JWT.decode(jwtString);\n  } catch(err) {\n    return done(err);\n  }\n\n  if (typeof payload.nbf !== 'undefined' && !options.ignoreNotBefore) {\n    if (typeof payload.nbf !== 'number') {\n      return done(new JsonWebTokenError('invalid nbf value'));\n    }\n    if (payload.nbf > Math.floor(Date.now() / 1000)) {\n      return done(new NotBeforeError('jwt not active', new Date(payload.nbf * 1000)));\n    }\n  }\n\n  if (typeof payload.exp !== 'undefined' && !options.ignoreExpiration) {\n    if (typeof payload.exp !== 'number') {\n      return done(new JsonWebTokenError('invalid exp value'));\n    }\n    if (Math.floor(Date.now() / 1000) >= payload.exp)\n      return done(new TokenExpiredError('jwt expired', new Date(payload.exp * 1000)));\n  }\n\n  if (options.audience) {\n    var audiences = Array.isArray(options.audience)? options.audience : [options.audience];\n    var target = Array.isArray(payload.aud) ? payload.aud : [payload.aud];\n\n    var match = target.some(function(aud) { return audiences.indexOf(aud) != -1; });\n\n    if (!match)\n      return done(new JsonWebTokenError('jwt audience invalid. expected: ' + audiences.join(' or ')));\n  }\n\n  if (options.issuer) {\n    var invalid_issuer =\n        (typeof options.issuer === 'string' && payload.iss !== options.issuer) ||\n        (Array.isArray(options.issuer) && options.issuer.indexOf(payload.iss) === -1);\n\n    if (invalid_issuer) {\n      return done(new JsonWebTokenError('jwt issuer invalid. expected: ' + options.issuer));\n    }\n  }\n\n  if (options.subject) {\n    if (payload.sub !== options.subject) {\n      return done(new JsonWebTokenError('jwt subject invalid. expected: ' + options.subject));\n    }\n  }\n\n  if (options.jwtid) {\n    if (payload.jti !== options.jwtid) {\n      return done(new JsonWebTokenError('jwt jwtid invalid. expected: ' + options.jwtid));\n    }\n  }\n\n  if (options.maxAge) {\n    var maxAge = ms(options.maxAge);\n    if (typeof payload.iat !== 'number') {\n      return done(new JsonWebTokenError('iat required when maxAge is specified'));\n    }\n    if (Date.now() - (payload.iat * 1000) > maxAge) {\n      return done(new TokenExpiredError('maxAge exceeded', new Date(payload.iat * 1000 + maxAge)));\n    }\n  }\n\n  return done(null, payload);\n};\n"],"mappings":"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"},"metadata":{},"sourceType":"script","externalDependencies":[]}