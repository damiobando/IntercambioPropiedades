{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\PC\\\\Documents\\\\GitHub\\\\IntercambioPropiedades\\\\front-end\\\\src\\\\components\\\\MessageToSeller.js\",\n  _s = $RefreshSig$();\n// MessageToSeller.js\nimport React, { useState } from 'react';\nimport './PropertyInfo.css';\nimport { sendMessage } from '../api/message';\nimport { findUserByToken } from '../api/users';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst MessageToSeller = ({\n  sellerId\n}) => {\n  _s();\n  const [message, setMessage] = useState('');\n  const handleMessageChange = event => {\n    setMessage(event.target.value);\n  };\n  const currentDate = new Date();\n  const handleSendMessage = async () => {\n    try {\n      const token = document.cookie.split('; ').find(row => row.startsWith('token=')).split('=')[1];\n      const user = await findUserByToken(token);\n      const messageData = {\n        receiver_id: sellerId,\n        content: message,\n        sender_id: user.data._id,\n        date: currentDate.toISOString().slice(0, 10)\n      };\n      console.log(messageData);\n      const res = await sendMessage(messageData);\n      console.log(res);\n      setMessage('');\n    } catch (res) {\n      console.error(\"Error al enviar mensaje\", res);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"message-container\",\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"Enviar Mensaje al Vendedor\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 35,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n      value: message,\n      onChange: handleMessageChange,\n      placeholder: \"Escribe tu mensaje...\",\n      rows: 4\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: handleSendMessage,\n      children: \"Enviar Mensaje\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 34,\n    columnNumber: 5\n  }, this);\n};\n_s(MessageToSeller, \"l8KXAebGu4sZHsyCIQX7P8si41w=\");\n_c = MessageToSeller;\nexport default MessageToSeller;\nvar _c;\n$RefreshReg$(_c, \"MessageToSeller\");","map":{"version":3,"names":["React","useState","sendMessage","findUserByToken","jsxDEV","_jsxDEV","MessageToSeller","sellerId","_s","message","setMessage","handleMessageChange","event","target","value","currentDate","Date","handleSendMessage","token","document","cookie","split","find","row","startsWith","user","messageData","receiver_id","content","sender_id","data","_id","date","toISOString","slice","console","log","res","error","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onChange","placeholder","rows","onClick","_c","$RefreshReg$"],"sources":["C:/Users/PC/Documents/GitHub/IntercambioPropiedades/front-end/src/components/MessageToSeller.js"],"sourcesContent":["// MessageToSeller.js\r\nimport React, { useState } from 'react';\r\nimport './PropertyInfo.css';\r\nimport { sendMessage } from '../api/message';\r\nimport { findUserByToken } from '../api/users';\r\nconst MessageToSeller = ({ sellerId }) => {\r\n  const [message, setMessage] = useState('');\r\n\r\n  const handleMessageChange = (event) => {\r\n    setMessage(event.target.value);\r\n  };\r\n  const currentDate = new Date();\r\n  const handleSendMessage = async () => {\r\n   try{\r\n    const token = document.cookie.split('; ').find(row => row.startsWith('token=')).split('=')[1];\r\n    const user = await findUserByToken(token);\r\n    const messageData = {\r\n      receiver_id: sellerId,\r\n      content: message,\r\n      sender_id: user.data._id,\r\n      date: currentDate.toISOString().slice(0, 10),\r\n    };\r\n    console.log(messageData);\r\n    const res = await sendMessage(messageData);\r\n    console.log(res);    \r\n    setMessage('');\r\n   }\r\n   catch(res){\r\n      console.error(\"Error al enviar mensaje\", res);\r\n   }\r\n  };\r\n\r\n  return (\r\n    <div className='message-container'>\r\n      <h2>Enviar Mensaje al Vendedor</h2>\r\n      <textarea\r\n        value={message}\r\n        onChange={handleMessageChange}\r\n        placeholder=\"Escribe tu mensaje...\"\r\n        rows={4}\r\n      />\r\n      <button onClick={handleSendMessage}>Enviar Mensaje</button>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default MessageToSeller;\r\n"],"mappings":";;AAAA;AACA,OAAOA,KAAK,IAAIC,QAAQ,QAAQ,OAAO;AACvC,OAAO,oBAAoB;AAC3B,SAASC,WAAW,QAAQ,gBAAgB;AAC5C,SAASC,eAAe,QAAQ,cAAc;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAC/C,MAAMC,eAAe,GAAGA,CAAC;EAAEC;AAAS,CAAC,KAAK;EAAAC,EAAA;EACxC,MAAM,CAACC,OAAO,EAAEC,UAAU,CAAC,GAAGT,QAAQ,CAAC,EAAE,CAAC;EAE1C,MAAMU,mBAAmB,GAAIC,KAAK,IAAK;IACrCF,UAAU,CAACE,KAAK,CAACC,MAAM,CAACC,KAAK,CAAC;EAChC,CAAC;EACD,MAAMC,WAAW,GAAG,IAAIC,IAAI,CAAC,CAAC;EAC9B,MAAMC,iBAAiB,GAAG,MAAAA,CAAA,KAAY;IACrC,IAAG;MACF,MAAMC,KAAK,GAAGC,QAAQ,CAACC,MAAM,CAACC,KAAK,CAAC,IAAI,CAAC,CAACC,IAAI,CAACC,GAAG,IAAIA,GAAG,CAACC,UAAU,CAAC,QAAQ,CAAC,CAAC,CAACH,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC;MAC7F,MAAMI,IAAI,GAAG,MAAMtB,eAAe,CAACe,KAAK,CAAC;MACzC,MAAMQ,WAAW,GAAG;QAClBC,WAAW,EAAEpB,QAAQ;QACrBqB,OAAO,EAAEnB,OAAO;QAChBoB,SAAS,EAAEJ,IAAI,CAACK,IAAI,CAACC,GAAG;QACxBC,IAAI,EAAEjB,WAAW,CAACkB,WAAW,CAAC,CAAC,CAACC,KAAK,CAAC,CAAC,EAAE,EAAE;MAC7C,CAAC;MACDC,OAAO,CAACC,GAAG,CAACV,WAAW,CAAC;MACxB,MAAMW,GAAG,GAAG,MAAMnC,WAAW,CAACwB,WAAW,CAAC;MAC1CS,OAAO,CAACC,GAAG,CAACC,GAAG,CAAC;MAChB3B,UAAU,CAAC,EAAE,CAAC;IACf,CAAC,CACD,OAAM2B,GAAG,EAAC;MACPF,OAAO,CAACG,KAAK,CAAC,yBAAyB,EAAED,GAAG,CAAC;IAChD;EACD,CAAC;EAED,oBACEhC,OAAA;IAAKkC,SAAS,EAAC,mBAAmB;IAAAC,QAAA,gBAChCnC,OAAA;MAAAmC,QAAA,EAAI;IAA0B;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAI,CAAC,eACnCvC,OAAA;MACES,KAAK,EAAEL,OAAQ;MACfoC,QAAQ,EAAElC,mBAAoB;MAC9BmC,WAAW,EAAC,uBAAuB;MACnCC,IAAI,EAAE;IAAE;MAAAN,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACT,CAAC,eACFvC,OAAA;MAAQ2C,OAAO,EAAE/B,iBAAkB;MAAAuB,QAAA,EAAC;IAAc;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAQ,CAAC;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACxD,CAAC;AAEV,CAAC;AAACpC,EAAA,CAvCIF,eAAe;AAAA2C,EAAA,GAAf3C,eAAe;AAyCrB,eAAeA,eAAe;AAAC,IAAA2C,EAAA;AAAAC,YAAA,CAAAD,EAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}